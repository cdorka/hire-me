<html
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    xmlns:hire="http://typo3.org/ns/ChristianDorka/HireMe/ViewHelpers"
    data-namespace-typo3-fluid="true"
    lang="en">

<section id="faq" class="py-5 bg-light mb-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">

                <div class="text-center mb-5">
                    <h2 class="h3 fw-bold"><f:translate key="jobPostingDetail.applicationFaq.header" extensionName="hire_me"/></h2>
                    <p class="text-muted"><f:translate key="jobPostingDetail.applicationFaq.body" extensionName="hire_me"/></p>
                </div>

                <div class="accordion" id="faq-accordion">
                    <f:for as="item" each="{faqs}" iteration="i">
                        <f:switch expression="{item.toString}">
                            <f:case value="ChristianDorka\HireMe\Domain\Model\Faq">
                                <f:render section="Faq" arguments="{faq: item, i: i}"/>
                            </f:case>
                            <f:case value="ChristianDorka\HireMe\Domain\Model\FaqGroup">
                                <f:render section="FaqGroup" arguments="{faqGroup: item, i: i}"/>
                            </f:case>
                        </f:switch>
                    </f:for>
                </div>






                <div class="text-center mt-4">
                    <f:format.raw>
                        <f:translate key="jobPostingDetail.applicationFaq.footer" arguments="{0: 'hr@example.com', 1: '+491234567890'}"  extensionName="hire_me"/>
                    </f:format.raw>
                </div>

            </div>
        </div>
    </div>
</section>

<f:section name="Faq">
    <div class="accordion-item border mb-3 shadow-sm">
        <h3 class="accordion-header" id="faq-heading-{i.index}-{faq.uid}">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq-collapse-{i.index}-{faq.uid}" aria-expanded="false" aria-controls="faq-collapse-{i.index}-{faq.uid}">
                {faq.title}
            </button>
        </h3>
        <div id="faq-collapse-{i.index}-{faq.uid}" class="accordion-collapse collapse" aria-labelledby="faq-heading-{i.index}-{faq.uid}" data-bs-parent="#faq-accordion">
            <div class="accordion-body">
                <f:sanitize.html>{faq.description}</f:sanitize.html>
            </div>
        </div>
    </div>
</f:section>

<f:section name="FaqGroup">
    <f:for as="faq" each="{faqGroup.faqs}">
        <f:render section="Faq" arguments="{faq: faq, i: i}"/>
    </f:for>
</f:section>

</html>
